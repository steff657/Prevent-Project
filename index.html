<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prevent Strategy ‚Äì System Interface</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="assets/style.css">
</head>

<body>

<nav class="navbar navbar-expand-lg navbar-dark fixed-top" aria-label="Main Navigation"> 
    <div class="container-fluid">
        <a class="navbar-brand" href="#top">Prevent Overview</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarNav" aria-controls="navbarNav"
                aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link" href="#intro">Introduction</a></li>
                <li class="nav-item"><a class="nav-link" href="#what">What is Prevent?</a></li>
                <li class="nav-item"><a class="nav-link" href="#risks">Recognising Risks</a></li>
                <li class="nav-item"><a class="nav-link" href="#report">Reporting Concerns</a></li>
                <li class="nav-item"><a class="nav-link" href="#contact-form">Contact</a></li>
            </ul>
        </div>
    </div>
</nav>

<header id="intro" class="text-center py-5">
    <div class="container">
        <h1 class="display-4 fw-bold">Understanding the Prevent Strategy</h1>
        <p class="lead">Helping safeguard individuals from radicalisation through awareness and early intervention.</p>

        <img src="assets/images/community-standing-together.jpg" 
             alt="People in a community standing together"
             class="img-fluid mt-3 rounded shadow">
    </div>
</header>

<section class="py-4">
    <div class="container">
        <h2 class="text-center mb-4">Understanding Extremism</h2>

        <div id="extremismCarousel" class="carousel slide" data-bs-ride="carousel">

            <div class="carousel-indicators">
                <button type="button" data-bs-target="#extremismCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Community safety image"></button>
                <button type="button" data-bs-target="#extremismCarousel" data-bs-slide-to="1" aria-label="Online extremism awareness image"></button>
                <button type="button" data-bs-target="#extremismCarousel" data-bs-slide-to="2" aria-label="Reporting concerns image"></button>
            </div>

            <div class="carousel-inner">

                <div class="carousel-item active">
                    <img src="assets/images/community.jpg" 
                         class="d-block w-100" 
                         alt="Community group symbolising safety and resilience">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Community Safety</h5>
                        <p>Prevent supports safer, stronger communities.</p>
                    </div>
                </div>

                <div class="carousel-item">
                    <img src="assets/images/online-risks.jpg" 
                         class="d-block w-100" 
                         alt="Person using a laptop to represent online extremism risks">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Online Awareness</h5>
                        <p>Recognising online signs of radicalisation is essential.</p>
                    </div>
                </div>

                <div class="carousel-item">
                    <img src="assets/images/reporting.jpg" 
                         class="d-block w-100" 
                         alt="Illustration of reporting concerns safely">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Reporting Concerns</h5>
                        <p>You can help by reporting concerns early and safely.</p>
                    </div>
                </div>

            </div>

            <button class="carousel-control-prev" type="button" data-bs-target="#extremismCarousel" data-bs-slide="prev" aria-label="Previous slide">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            </button>

            <button class="carousel-control-next" type="button" data-bs-target="#extremismCarousel" data-bs-slide="next" aria-label="Next slide">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
            </button>

        </div>
    </div>
</section>

<section id="what" class="py-5">
    <div class="container">
        <h2 class="mb-4">What is Prevent?</h2>
        <div class="row g-4">
            <div class="col-md-6">
                <p>
                    Prevent is part of the UK‚Äôs counter-terrorism strategy. Its aim is to safeguard 
                    vulnerable individuals from being drawn into radicalisation or extremist behaviour.
                </p>
                <p>
                    The focus is on early intervention by identifying warning signs, offering support, 
                    and ensuring individuals receive appropriate help.
                </p>
            </div>
            <div class="col-md-6">
                <ul class="list-group">
                    <li class="list-group-item">Safeguarding individuals from radicalisation</li>
                    <li class="list-group-item">Support through education and community awareness</li>
                    <li class="list-group-item">Early identification of risks</li>
                    <li class="list-group-item">Encouraging open communication and reporting concerns</li>
                </ul>
            </div>
        </div>
    </div>
</section>

<section id="risks" class="py-5">
    <div class="container">
        <h2 class="mb-4">Recognising Signs of Radicalisation</h2>

        <p class="mb-4">
            Radicalisation can take many forms, including religious, ideological, or political extremism.
            The following signs are general indicators and not definitive proof of extremist involvement.
            If you are ever unsure, early reporting helps ensure appropriate support.
        </p>

        <div class="row g-4">

            <div class="col-md-3">
                <h3 class="h5">Behavioural Changes</h3>
                <ul>
                    <li>Sudden secrecy around activities or associations</li>
                    <li>Withdrawn behaviour or isolation from usual friends</li>
                    <li>Use of rigid ‚Äúus vs them‚Äù narratives</li>
                    <li>Expressing extreme distrust of institutions or community</li>
                </ul>
            </div>

            <div class="col-md-3">
                <h3 class="h5">Emotional Indicators</h3>
                <ul>
                    <li>Increased anger, frustration, or hostility towards others</li>
                    <li>Feeling persecuted or victimised</li>
                    <li>Lack of empathy toward people with differing beliefs</li>
                </ul>
            </div>

            <div class="col-md-3">
                <h3 class="h5">Online Activity</h3>
                <ul>
                    <li>Viewing or sharing extremist content</li>
                    <li>Interacting with unknown individuals promoting radical ideas</li>
                    <li>Frequent visits to sites promoting conspiratorial or extremist narratives</li>
                    <li>Sudden adoption of coded language or extremist symbolism</li>
                </ul>
            </div>

            <div class="col-md-3">
                <h3 class="h5">Political Extremism</h3>
                <ul>
                    <li>Adopting extreme political positions with no tolerance for debate</li>
                    <li>Justifying violence to achieve political goals</li>
                    <li>Associating with groups promoting hatred or division</li>
                    <li>Rejecting democratic processes or advocating authoritarian beliefs</li>
                </ul>
            </div>

        </div>
    </div>
</section>

<section id="report" class="py-5">
    <div class="container text-center">
        <h2 class="mb-4">Reporting Concerns</h2>
        <p>If you notice signs of radicalisation, it's important to report your concerns safely. You can find specific contacts for your local area below.</p>
        
        <div class="d-flex justify-content-center gap-3 flex-wrap mb-4">
            
            <button id="findLocalBtn" class="btn btn-primary btn-lg shadow-sm">
                <i class="bi bi-geo-alt-fill"></i> Find My Local Prevent Team
            </button>

            <a href="https://actearly.uk/" class="btn btn-danger btn-lg shadow-sm" aria-label="Report a concern online">
                Report Online (National)
            </a>
            
            <a href="https://assets.publishing.service.gov.uk/media/65e5a5bd3f69457ff1035fe2/14.258_HO_Prevent+Duty+Guidance_v5d_Final_Web_1_.pdf" class="btn btn-secondary btn-lg shadow-sm" aria-label="Get additional resources about Prevent">
                Learn More
            </a>
        </div>

        <div class="row justify-content-center">
            <div class="col-md-8">
                <div id="locStatus" class="alert alert-info d-none" role="alert"></div>
            </div>
        </div>

    </div>
</section>

<section id="contact-form" class="py-5">
    <div class="container">
        <h2 class="text-center mb-5">Contact Us</h2>
        
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <form action="#" method="POST" id="requestForm" novalidate>
                    
                    <div class="mb-3">
                        <label for="nameInput" class="form-label">Name</label>
                        <input type="text" class="form-control" id="nameInput" placeholder="Enter your name or alias" required>
                    </div>

                    <div class="mb-3">
                        <label for="emailInput" class="form-label">Email</label>
                        <input type="email" class="form-control" id="emailInput" placeholder="user@system.com" required>
                    </div>

                    <div class="mb-3">
                        <label for="subjectInput" class="form-label">Subject</label>
                        <input type="text" class="form-control" id="subjectInput" placeholder="Subject" required>
                    </div>
                    
                    <div class="mb-4">
                        <label for="messageInput" class="form-label">Message</label>
                        <textarea class="form-control" id="messageInput" rows="5" placeholder="Enter your message here"></textarea>
                    </div>

                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary btn-lg">Send</button>
                    </div>

                </form>
            </div>
        </div>
    </div>
</section>

<footer class="text-center py-3">
    <p class="mb-0">&copy; 2025 Prevent Information Initiative</p>
</footer>

<!-- Updated modal with correct ARIA -->
<div class="modal fade"
     id="confirmationModal"
     tabindex="-1"
     role="dialog"
     aria-labelledby="confirmationModalLabel"
     aria-modal="true"
     aria-hidden="true">
     
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">

            <div class="modal-header">
                <h5 class="modal-title" id="confirmationModalLabel">üì° Transmission Successful</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">
                <p>Your message has been sent to your local authority.</p>
                <p>An officer will process your query and contact you shortly at the provided email.</p>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>

        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>

// Council links
const councilData = {
    "Doncaster": "https://www.doncaster.gov.uk/services/community-safety/prevent",
    "Manchester": "https://www.manchester.gov.uk/info/200030/crime_antisocial_behaviour_and_nuisance/6429/prevent",
    "Leeds": "https://www.leeds.gov.uk/antisocial-behaviour-and-crime/prevent",
    "Rotherham": "https://www.rotherham.gov.uk/community-safety-crime/prevent-channel",
    "Salford": "https://www.salford.gov.uk/people-communities-and-local-information/the-prevent-duty/",
    "Bolton": "https://www.bolton.gov.uk/community-safety-anti-social-behaviour/safeguarding-radicalisation",
    "Newcastle-upon-Tyne": "https://www.newcastle.gov.uk/services/communities-and-neighbourhoods/community-safety/prevent",
    "Sunderland": "https://www.sunderland.gov.uk/article/12176/Preventing-radicalisation-and-the-prevent-duty",
    "Gateshead": "https://www.gateshead.gov.uk/article/16215/Prevent",
    "North Tyneside": "https://www.northtyneside.gov.uk/community-safety/prevent-north-tyneside",
    "South Tyneside": "https://www.southtyneside.gov.uk/article/35889/Prevent",
    "Northumberland": "https://www.northumberland.gov.uk/Health/Safeguarding/Prevent.aspx",
    "County Durham": "https://www.durham.gov.uk/prevent", 
    "Middlesbrough": "https://www.middlesbrough.gov.uk/crime-and-safety/prevent/about-prevent",
    "Stockton-on-Tees": "https://www.stockton.gov.uk/prevent",
    "Hartlepool": "https://www.hartlepool.gov.uk/info/20008/crime_prevention_and_community_safety/451/prevent",
    "Redcar and Cleveland": "https://www.redcar-cleveland.gov.uk/residents/crime-and-community-safety/prevent-strategy-and-channel-process",
};

const locBtn = document.getElementById('findLocalBtn');
const statusBox = document.getElementById('locStatus');
const requestForm = document.getElementById('requestForm');
const confirmationModal = new bootstrap.Modal(document.getElementById('confirmationModal'));


// LOCATION FINDER
locBtn.addEventListener('click', function() {
    if (!navigator.geolocation) {
        displayLocStatus("Geolocation is not supported by your browser.", "danger");
        return;
    }

    displayLocStatus("Locating your position...", "info");
    locBtn.disabled = true;

    navigator.geolocation.getCurrentPosition(handlePositionSuccess, handlePositionError);
});

function handlePositionSuccess(position) {
    const lat = position.coords.latitude;
    const lon = position.coords.longitude;

    const apiUrl = `https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${lat}&lon=${lon}`;

    fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
            const address = data.address;
            const detectedArea = address.city || address.town || address.borough || address.county || "Unknown";
            matchAreaAndRedirect(detectedArea);
        })
        .catch(error => {
            console.error("Geocoding Error:", error);
            displayLocStatus("Error retrieving map data. Please search manually.", "warning");
            locBtn.disabled = false;
        });
}

function handlePositionError(err) {
    console.warn(`Geolocation ERROR(${err.code}): ${err.message}`);
    displayLocStatus("Location access denied or unavailable. Please use the National Report link or Contact Form.", "warning");
    locBtn.disabled = false;
}

function matchAreaAndRedirect(areaName) {
    let targetUrl = null;
    let matchedName = "";

    for (const [key, url] of Object.entries(councilData)) {
        if (areaName.toLowerCase().includes(key.toLowerCase()) || key.toLowerCase().includes(areaName.toLowerCase())) {
            targetUrl = url;
            matchedName = key;
            break;
        }
    }

    if (targetUrl) {
        displayLocStatus(`Location found: <strong>${areaName}</strong>. Redirecting to ${matchedName} Prevent page...`, "success");
        setTimeout(() => {
            window.location.href = targetUrl;
        }, 1500);
    } else {
        displayLocStatus(`We located you in <strong>${areaName}</strong>, but we don't have a direct council link yet.`, "warning");
        locBtn.disabled = false;
    }
}

function displayLocStatus(message, type) {
    statusBox.classList.remove('d-none', 'alert-info', 'alert-success', 'alert-danger', 'alert-warning');
    statusBox.classList.add(`alert-${type}`);
    statusBox.innerHTML = message;
}


// FORM HANDLING
requestForm.addEventListener('submit', function(event) {
    event.preventDefault();

    if (requestForm.checkValidity()) {
        confirmationModal.show();

        setTimeout(() => {
            requestForm.reset();
            requestForm.classList.remove('was-validated');
        }, 500);
    } else {
        requestForm.classList.add('was-validated');
    }
});

</script>

</body>
</html>
